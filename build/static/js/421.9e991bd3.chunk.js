"use strict";(self.webpackChunktheschoolster_in=self.webpackChunktheschoolster_in||[]).push([[421],{2421:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var c=a(5043),l=a(8786),t=a(3401),i=a(2869),d=a(7032),r=a(579);function n(){const[e]=(0,c.useState)([{title_1:"ADD STUDENT ATTENDANCE",title_2:"DELETE SELECTED STUDENT ATTENDANCE",title_3:"EDIT STUDENT ATTENDANCE",title_4:"STUDENT ATTENDANCE",title_5:"ADD-MANAGE STUDENT ATTENDANCE'S"}]),[s,a]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[h,m]=(0,c.useState)([]),[u,v]=(0,c.useState)(0),[x,N]=(0,c.useState)(0),[j,p]=(0,c.useState)(!0),[f,{data:g}]=(0,d.ad)(),[E]=(0,i.V5)(),[_]=(0,i.Dk)(),S=[{name:"#",selector:(e,s)=>s+1,width:"50px"},{name:"Student List",selector:e=>e.student_name},{name:"Attendance",selector:e=>{var s;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"form-check form-switch",children:(null===(s=e.student_attendance_data)||void 0===s?void 0:s.length)>0?(0,r.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:s=>T(s,e._id),value:1,checked:!0}):(0,r.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:s=>T(s,e._id),value:1})})})}}],T=(e,s)=>{p(!0);let a=e.target.checked;E({attendance_class:u,attendance_section:x,is_checked:a?1:0,attendance_student_id:s,attendance:1===a?1:0}).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?t.oR.success(e.data.message):t.oR.error(e.error.data.message),D(x)})).catch((e=>{e&&t.oR.error("Some tehnical issue."),p(!1)}))},D=e=>{N(e),a([]);_({class_id:u,section_id:e}).then((e=>{var s;a(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),p(!1)})).catch((e=>{t.oR.error("Error : ".concat(e.message))}))};(0,c.useEffect)((()=>{f().then((e=>{var s;o(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),p(!1)})).catch((e=>{t.oR.error("Error : ".concat(e.message))}))}),[g]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"page-body",children:[j?(0,r.jsx)("div",{class:"loader-wrapper",children:(0,r.jsx)("div",{class:"theme-loader",children:(0,r.jsx)("div",{class:"loader-p"})})}):"",(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsx)("div",{className:"page-title",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-sm-6 ps-0",children:(0,r.jsx)("h3",{children:e[0].title_1})}),(0,r.jsx)("div",{className:"col-sm-6 pe-0",children:(0,r.jsxs)("ol",{className:"breadcrumb",children:[(0,r.jsx)("li",{className:"breadcrumb-item",children:(0,r.jsx)("a",{href:"#",children:(0,r.jsx)("svg",{className:"stroke-icon",children:(0,r.jsx)("use",{href:"../assets/svg/icon-sprite.svg#stroke-home"})})})}),(0,r.jsx)("li",{className:"breadcrumb-item active",children:e[0].title_1})]})})]})})}),(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-sm-12",children:(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-body custom-card-list",children:[(0,r.jsx)("div",{className:"list-product-header",children:(0,r.jsxs)("div",{className:"row align-left",children:[(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsxs)("div",{className:"form-floating p-1",children:[(0,r.jsxs)("select",{className:"form-select b-dark",id:"floatingSelectGrid",onChange:e=>{(e=>{const s=JSON.parse(e);v(s._id),m(s.class_section)})(e.target.value),a([])},children:[(0,r.jsx)("option",{value:"",children:"Select Class"}),n?n.map(((e,s)=>(0,r.jsx)("option",{value:JSON.stringify(e),children:e.class_name},s))):""]}),(0,r.jsx)("label",{for:"floatingSelectGrid",children:"Please select class"})]})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsxs)("div",{className:"form-floating p-1",children:[(0,r.jsxs)("select",{className:"form-select  b-dark",id:"floatingSelectGrid",onChange:e=>{D(e.target.value)},children:[(0,r.jsx)("option",{value:"",children:"Select Section"}),h?h.map(((e,s)=>(0,r.jsx)("option",{value:e._id,children:e.section_name},s))):""]}),(0,r.jsx)("label",{for:"floatingSelectGrid",children:"Please select section"})]})})]})}),(0,r.jsx)("div",{className:"list-product",children:(0,r.jsx)(l.Ay,{columns:S,data:s,pagination:!0,persistTableHead:!0})})]})})})})})]})})}}}]);
//# sourceMappingURL=421.9e991bd3.chunk.js.map