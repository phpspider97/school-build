"use strict";(self.webpackChunktheschoolster_in=self.webpackChunktheschoolster_in||[]).push([[98],{8098:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var c=a(5043),l=a(4858),t=a(8786),i=a(3401),d=a(2869),r=a(9923),n=a(7032),o=a(579);function m(){const[e]=(0,c.useState)([{title_1:"ADD EXAM ATTENDANCE",title_2:"DELETE SELECTED EXAM ATTENDANCE",title_3:"EDIT EXAM ATTENDANCE",title_4:"EXAM ATTENDANCE",title_5:"ADD-MANAGE EXAM ATTENDANCE'S"}]),[s,a]=(0,c.useState)([]),[m,h]=(0,c.useState)([]),[x,u]=(0,c.useState)([]),[j,v]=(0,c.useState)([]),[_,N]=(0,c.useState)([]),[f,g]=(0,c.useState)(0),[p,b]=(0,c.useState)(0),[S,E]=(0,c.useState)(0),[A,T]=(0,c.useState)(0),[k,C]=(0,c.useState)(!0),{register:D,handleSubmit:y,formState:{errors:q}}=(0,l.mN)(),[w,{data:G}]=(0,r.ad)(),[M,{data:R}]=(0,n.ad)(),[O]=(0,d.Cm)(),[P]=(0,d.OO)(),X=[{name:"#",selector:(e,s)=>s+1,width:"50px"},{name:"Student List",selector:e=>e.student_name},{name:"Attendance",selector:e=>{var s;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"form-check form-switch",children:(null===(s=e.student_attendance_data)||void 0===s?void 0:s.length)>0?(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:s=>B(s,e._id),value:1,checked:!0}):(0,o.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:s=>B(s,e._id),value:1})})})}}],B=(e,s)=>{C(!0);let a=e.target.checked;O({attendance_class:f,attendance_section:p,attendance_subject:A,attendance_exam:S,is_checked:a?1:0,attendance_student_id:s,attendance:1===a?1:0}).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?i.oR.success(e.data.message):i.oR.error(e.error.data.message);I({exam_class:f,exam_section:p,exam_subject:A,exam_name:S})})).catch((e=>{e&&i.oR.error("Some tehnical issue."),C(!1)}))},I=e=>{g(e.exam_class),b(e.exam_section),T(e.exam_subject),E(e.exam_name),a([]);const s={class_id:e.exam_class,section_id:e.exam_section,subject_id:e.exam_subject,exam_id:e.exam_name};P(s).then((e=>{var s;a(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),C(!1)})).catch((e=>{i.oR.error("Error : ".concat(e.message))}))};(0,c.useEffect)((()=>{M().then((e=>{var s;u(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),C(!1)})).catch((e=>{i.oR.error("Error : ".concat(e.message))}))}),[R]);return(0,c.useEffect)((()=>{w().then((e=>{var s;h(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data)})).catch((e=>{i.oR.error("Error : ".concat(e.message))}))}),[G]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"page-body",children:[k?(0,o.jsx)("div",{class:"loader-wrapper",children:(0,o.jsx)("div",{class:"theme-loader",children:(0,o.jsx)("div",{class:"loader-p"})})}):"",(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsx)("div",{className:"page-title",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-sm-6 ps-0",children:(0,o.jsx)("h3",{children:e[0].title_1})}),(0,o.jsx)("div",{className:"col-sm-6 pe-0",children:(0,o.jsxs)("ol",{className:"breadcrumb",children:[(0,o.jsx)("li",{className:"breadcrumb-item",children:(0,o.jsx)("a",{href:"#",children:(0,o.jsx)("svg",{className:"stroke-icon",children:(0,o.jsx)("use",{href:"../assets/svg/icon-sprite.svg#stroke-home"})})})}),(0,o.jsx)("li",{className:"breadcrumb-item active",children:e[0].title_1})]})})]})})}),(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsxs)("div",{className:"card-body custom-card-list",children:[(0,o.jsx)("div",{className:"list-product-header",children:(0,o.jsx)("form",{method:"POST",onSubmit:y(I),encType:"multipart/form-data",children:(0,o.jsxs)("div",{className:"row align-left p-4",children:[(0,o.jsx)("div",{className:"col-md-3",children:(0,o.jsxs)("div",{className:"form-floating",children:[(0,o.jsxs)("select",{className:"form-select",id:"floatingSelectGrid",...D("exam_name",{required:"This field is required."}),children:[(0,o.jsx)("option",{value:"",children:"Select Exam"}),m?m.map(((e,s)=>(0,o.jsx)("option",{value:e._id,children:e.exam_name},s))):""]}),q.exam_name&&(0,o.jsx)("span",{className:"error-message",children:q.exam_name.message}),(0,o.jsx)("label",{for:"floatingSelectGrid",children:"Please select section"})]})}),(0,o.jsx)("div",{className:"col-md-2",children:(0,o.jsxs)("div",{className:"form-floating",children:[(0,o.jsxs)("select",{className:"form-select",...D("exam_class",{required:"This field is required."}),onChange:e=>{(()=>{const e=document.getElementById("classSelectBox"),s=e.options[e.selectedIndex].id,a=JSON.parse(s);v(a.class_section),N(a.class_subject)})(e.target.value),a([])},id:"classSelectBox",children:[(0,o.jsx)("option",{value:"",children:"Select Class"}),x?x.map(((e,s)=>(0,o.jsx)("option",{id:JSON.stringify(e),value:e._id,children:e.class_name},s))):""]}),q.exam_class&&(0,o.jsx)("span",{className:"error-message",children:q.exam_class.message}),(0,o.jsx)("label",{for:"floatingSelectGrid",children:"Please select class"})]})}),(0,o.jsx)("div",{className:"col-md-3",children:(0,o.jsxs)("div",{className:"form-floating",children:[(0,o.jsxs)("select",{className:"form-select",id:"floatingSelectGrid",...D("exam_section",{required:"This field is required."}),children:[(0,o.jsx)("option",{value:"",children:"Select Section"}),j?j.map(((e,s)=>(0,o.jsx)("option",{value:e._id,children:e.section_name},s))):""]}),q.exam_section&&(0,o.jsx)("span",{className:"error-message",children:q.exam_section.message}),(0,o.jsx)("label",{for:"floatingSelectGrid",children:"Please select section"})]})}),(0,o.jsx)("div",{className:"col-md-2",children:(0,o.jsxs)("div",{className:"form-floating",children:[(0,o.jsxs)("select",{className:"form-select",id:"floatingSelectGrid",...D("exam_subject",{required:"This field is required."}),children:[(0,o.jsx)("option",{value:"",children:"Select Subject"}),_?_.map(((e,s)=>(0,o.jsx)("option",{value:e._id,children:e.subject_name},s))):""]}),q.exam_subject&&(0,o.jsx)("span",{className:"error-message",children:q.exam_subject.message}),(0,o.jsx)("label",{for:"floatingSelectGrid",children:"Please select subject"})]})}),(0,o.jsx)("div",{className:"col-md-2",children:(0,o.jsx)("div",{className:"form-floating",children:(0,o.jsx)("button",{type:"submit",className:"btn btn-success-gradien border-dark me-3",style:{height:"58px"},children:(0,o.jsx)("b",{children:"Attendance"})})})})]})})}),(0,o.jsx)("div",{className:"list-product",children:(0,o.jsx)(t.Ay,{columns:X,data:s,pagination:!0,persistTableHead:!0})})]})})})})})]})})}}}]);
//# sourceMappingURL=98.88f49d4c.chunk.js.map