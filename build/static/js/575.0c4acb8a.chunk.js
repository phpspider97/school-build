"use strict";(self.webpackChunktheschoolster_in=self.webpackChunktheschoolster_in||[]).push([[575],{5575:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(5043),d=a(4858),l=a(8786),r=a(3401),c=a(2869),n=a(7032),i=a(579);function o(){const[e]=(0,t.useState)([{title_1:"ADD STUDENT",title_2:"DELETE SELECTED STUDENT",title_3:"EDIT STUDENT",title_4:"STUDENT",title_5:"ADD-MANAGE STUDENT'S"}]),[s,a]=(0,t.useState)([]),[o,m]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[x,j]=(0,t.useState)(0),[b,p]=(0,t.useState)([]),[N,_]=(0,t.useState)(!0),[g,v]=(0,t.useState)(!0),[f]=(0,t.useState)(["Punjab","Haryana","Himachal"]),[S]=(0,t.useState)(["Male","Female","Other"]),[y]=(0,t.useState)(["O+","A+","B+","AB+","O-","A-","B-","AB-"]),{register:k,handleSubmit:E,formState:{errors:w},setValue:T,reset:R}=(0,d.mN)(),[q]=(0,c.sZ)(),[A]=(0,c.Rx)(),[C]=(0,c.K)(),[D]=(0,c.Ej)(),[B,{data:L}]=(0,c.ad)(),[I]=(0,c.bi)(),[F,{data:P}]=(0,n.ad)(),O=[{name:"#",selector:(e,s)=>s+1,width:"50px"},{name:"Name",selector:e=>e.student_name},{name:"Email",selector:e=>e.student_email},{name:"Status",selector:e=>1===e.is_active?(0,i.jsx)("span",{className:"badge rounded-pill badge-success me-1",children:"Active"}):(0,i.jsx)("span",{className:"badge rounded-pill badge-danger me-1",children:"De-active"})},{name:"Action",selector:e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("i",{className:"icofont icofont-ui-edit me-2 edit-link-custom",onClick:()=>{M(e._id)},title:"Edit record"}),(0,i.jsx)("i",{className:"icofont icofont-ui-delete me-2 delete-link-custom",onClick:()=>{G(e._id),v(!0)},title:"Delete record"})]})}],U=()=>{R(),j(0),document.getElementById("close-modal").click(),v(!1)},M=async e=>{j(e),document.getElementById("open-modal").click(),I(e).then((e=>{T("student_class",e.data.data.student_class),T("student_email",e.data.data.student_email),T("student_name",e.data.data.student_name),T("student_gender",e.data.data.student_gender),T("student_blood_group",e.data.data.student_blood_group),T("student_number",e.data.data.student_number),T("student_country",e.data.data.student_country),T("student_state",e.data.data.student_state),T("student_city",e.data.data.student_city),T("student_address",e.data.data.student_address),T("student_about",e.data.data.student_about),T("student_facebook_link",e.data.data.student_facebook_link),T("student_instagram_link",e.data.data.student_instagram_link),T("is_active",e.data.data.is_active),H(),setTimeout((()=>{T("student_section",e.data.data.student_section)}),300)})).catch((e=>{r.oR.error("Error : ".concat(e.message)),v(!1)}))},G=async e=>{!0===window.confirm("Are you sure to delete this record?")&&C(e).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?(r.oR.success(e.data.message),v(!1)):r.oR.error(e.error.data.message)})).catch((e=>{r.oR.error("Error : ".concat(e.message))}))};(0,t.useEffect)((()=>{B().then((e=>{var s;a(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),v(!1)})).catch((e=>{r.oR.error("Error : ".concat(e.message))}))}),[L]);(0,t.useEffect)((()=>{F().then((e=>{var s;m(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),v(!1)})).catch((e=>{r.oR.error("Error : ".concat(e.message))}))}),[P]);const H=()=>{const e=document.getElementById("classSelectBox"),s=e.options[e.selectedIndex].id,a=JSON.parse(s);h(a.class_section)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"page-body",children:[g?(0,i.jsx)("div",{class:"loader-wrapper",children:(0,i.jsx)("div",{class:"theme-loader",children:(0,i.jsx)("div",{class:"loader-p"})})}):"",(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsx)("div",{className:"page-title",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-sm-6 ps-0",children:(0,i.jsx)("h3",{children:e[0].title_1})}),(0,i.jsx)("div",{className:"col-sm-6 pe-0",children:(0,i.jsxs)("ol",{className:"breadcrumb",children:[(0,i.jsx)("li",{className:"breadcrumb-item",children:(0,i.jsx)("a",{href:"#",children:(0,i.jsx)("svg",{className:"stroke-icon",children:(0,i.jsx)("use",{href:"../assets/svg/icon-sprite.svg#stroke-home"})})})}),(0,i.jsx)("li",{className:"breadcrumb-item active",children:e[0].title_1})]})})]})})}),(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-sm-12",children:(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("div",{className:"card-body custom-card-list",children:[(0,i.jsx)("div",{className:"list-product-header",children:(0,i.jsxs)("div",{children:[N?"":(0,i.jsx)("button",{className:"btn btn-danger-gradien btn-sm",type:"button",onClick:()=>{(async()=>{!0===window.confirm("Are you sure to delete this record?")&&D(b).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?(r.oR.success(e.data.message),v(!1),_(!0)):r.oR.error(e.error.data.message)})).catch((e=>{r.oR.error("Error : ".concat(e.message))}))})(),v(!0)},disabled:N,children:(0,i.jsx)("b",{children:e[0].title_2})}),(0,i.jsx)("button",{className:"btn btn-primary-gradien btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":".bd-example-modal-fullscreen",id:"open-modal",onClick:()=>R(),children:(0,i.jsx)("b",{children:e[0].title_1})})]})}),(0,i.jsx)("div",{className:"list-product",children:(0,i.jsx)(l.Ay,{columns:O,data:s,pagination:!0,selectableRows:!0,onSelectedRowsChange:e=>{let{selectedRows:s}=e;_(!0);let a=[];s.map((e=>{a.push(e._id)})),a.length>0&&_(!1),p(a)},persistTableHead:!0})})]})})})})}),(0,i.jsx)("div",{className:"modal fade bd-example-modal-fullscreen",tabindex:"-1",role:"dialog","aria-labelledby":"myFullLargeModalLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog modal-fullscreen",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h4",{className:"modal-title",id:"myFullLargeModalLabel",children:e[0].title_5}),(0,i.jsx)("button",{className:"btn-close py-1",type:"button","data-bs-dismiss":"modal","aria-label":"Close",id:"close-modal",onClick:()=>{j(0)}})]}),(0,i.jsx)("div",{className:"modal-body dark-modal",children:(0,i.jsx)("div",{className:"row border-dark",children:(0,i.jsx)("div",{className:"col-sm-12",children:(0,i.jsx)("div",{className:"card",children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsx)("form",{method:"POST",onSubmit:E((e=>{0===x?(q(e).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?r.oR.success(e.data.message):r.oR.error(e.error.data.message)})).catch((e=>{r.oR.error("Error : ".concat(e.message))})),U()):(A({dataID:x,...e}).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?r.oR.success(e.data.message):r.oR.error(e.error.data.message)})).catch((e=>{r.oR.error("Error : ".concat(e.message)),v(!1)})),U())})),encType:"multipart/form-data",children:(0,i.jsxs)("div",{className:"form theme-f",children:[(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,i.jsx)("label",{children:"Student Class"}),(0,i.jsxs)("select",{className:"form-control",...k("student_class",{required:!0}),onChange:e=>H(e),id:"classSelectBox",children:[(0,i.jsx)("option",{value:"",children:"Select Class"}),o?o.map(((e,s)=>(0,i.jsx)("option",{value:e._id,id:JSON.stringify(e),children:e.class_name},s))):""]}),w.student_class&&(0,i.jsx)("p",{className:"text-danger error-custom-single",children:w.student_class.message})]}),(0,i.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,i.jsx)("label",{children:"Student Section"}),(0,i.jsxs)("select",{className:"form-control",...k("student_section",{required:!0}),children:[(0,i.jsx)("option",{value:"",children:"Select Section"}),u?u.map(((e,s)=>(0,i.jsx)("option",{value:e._id,children:e.section_name},s))):""]}),w.student_section&&(0,i.jsx)("p",{className:"text-danger error-custom-single",children:w.student_section.message})]}),(0,i.jsxs)("div",{className:"col-md-4 mb-3 position-relative",children:[(0,i.jsx)("label",{className:"form-label",children:"Student Name"}),(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:(0,i.jsx)("i",{className:"icofont icofont-boy"})}),(0,i.jsx)("input",{className:"form-control",type:"text",placeholder:"Student Name",...k("student_name",{required:"This field is required."})})]}),w.student_name&&(0,i.jsx)("p",{className:"text-danger error-custom-single",children:w.student_name.message})]}),(0,i.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,i.jsx)("label",{children:"Student Email"}),(0,i.jsx)("input",{className:"form-control",type:"email",placeholder:"Student Email",...k("student_email",{required:"This field is required."})}),w.student_email&&(0,i.jsx)("p",{className:"text-danger error-custom-single",children:w.student_email.message})]}),(0,i.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,i.jsx)("label",{children:"Student Password"}),(0,i.jsx)("input",{className:"form-control",type:"password",placeholder:"Student Password",...k("student_password",{required:!1})}),(0,i.jsx)("span",{className:"info-text-custom",children:"For change password enter password."})]}),(0,i.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,i.jsx)("label",{children:"Student Phone"}),(0,i.jsx)("input",{className:"form-control",type:"number",placeholder:"Student Phone",...k("student_number",{required:"This field is required."})}),w.student_number&&(0,i.jsx)("p",{className:"text-danger error-custom-single",children:w.student_number.message})]}),(0,i.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,i.jsx)("label",{children:"Student State"}),(0,i.jsxs)("select",{className:"form-control",...k("student_state",{required:!0}),children:[(0,i.jsx)("option",{value:"",children:"Select"}),null===f||void 0===f?void 0:f.map(((e,s)=>(0,i.jsx)("option",{value:s+1,children:e})))]}),w.student_state&&(0,i.jsx)("p",{className:"text-danger error-custom-single",children:w.student_state.message})]}),(0,i.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,i.jsx)("label",{children:"Student City"}),(0,i.jsx)("input",{className:"form-control",type:"text",placeholder:"Student City",...k("student_city",{required:"This field is required."})}),w.student_city&&(0,i.jsx)("p",{className:"text-danger error-custom-single",children:w.student_city.message})]}),(0,i.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,i.jsx)("label",{children:"Select Gender"}),(0,i.jsxs)("select",{className:"form-control",...k("student_gender",{required:!0}),children:[(0,i.jsx)("option",{value:"",children:"Select"}),S?S.map(((e,s)=>(0,i.jsx)("option",{value:e,children:e}))):""]}),w.student_gender&&(0,i.jsx)("p",{className:"text-danger error-custom-single",children:w.student_gender.message})]}),(0,i.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,i.jsx)("label",{children:"Select Blood Group"}),(0,i.jsxs)("select",{className:"form-control",...k("student_blood_group",{required:!0}),children:[(0,i.jsx)("option",{value:"",children:"Select"}),y?y.map(((e,s)=>(0,i.jsx)("option",{value:e,children:e}))):""]}),w.student_blood_group&&(0,i.jsx)("p",{className:"text-danger error-custom-single",children:w.student_blood_group.message})]}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,i.jsx)("label",{children:"Facebook Link"}),(0,i.jsx)("input",{className:"form-control",type:"text",placeholder:"Facebook Link",...k("student_facebook_link",{required:!1})})]}),(0,i.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,i.jsx)("label",{children:"Instagram Link"}),(0,i.jsx)("input",{className:"form-control",type:"text",placeholder:"Instagram Link",...k("student_instagram_link",{required:!1})})]})]}),(0,i.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,i.jsx)("label",{children:"About student"}),(0,i.jsx)("textarea",{className:"form-control",type:"text",placeholder:"Please write 2 line about yourself.",...k("student_about",{required:!1})})]}),(0,i.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,i.jsx)("label",{children:"Student Address"}),(0,i.jsx)("textarea",{className:"form-control",type:"text",placeholder:"Student Address",...k("student_address",{required:!1})})]}),(0,i.jsx)("div",{className:"col-md-12",children:(0,i.jsxs)("div",{className:"form-check form-switch",children:[(0,i.jsx)("input",{className:"form-check-input",id:"flexSwitchCheckDefault",type:"checkbox",role:"switch",...k("is_active",{required:!1})}),(0,i.jsx)("label",{className:"form-check-label",for:"flexSwitchCheckDefault",children:"Is Active"})]})})]}),(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col",children:(0,i.jsxs)("div",{className:"text-end",children:[(0,i.jsx)("button",{type:"submit",className:"btn btn-primary-gradien btn-lg border-dark me-3",children:(0,i.jsx)("b",{children:"Add"})}),(0,i.jsx)("button",{type:"reset",className:"btn btn-danger-gradien btn-lg border-dark",children:(0,i.jsx)("b",{children:"Reset"})})]})})})]})})})})})})})]})})})]})})}}}]);
//# sourceMappingURL=575.0c4acb8a.chunk.js.map