{"version":3,"file":"static/js/325.2f4009e0.chunk.js","mappings":"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","sources":["Components/Teacher/TeacherPermission.js"],"sourcesContent":["import React,{useState, useEffect} from 'react'  \nimport {useForm} from \"react-hook-form\" \nimport DataTable from 'react-data-table-component'\nimport {toast} from 'react-toastify'\n//import {ThreeDots} from 'react-loader-spinner' \n\nimport {useAddPermissionMutation, useParticularPermissionMutation} from '../../redux/api/TeacherApi.js' \nimport {useLazyListQuery as useLazyClassListQuery} from '../../redux/api/ClassApi.js'\n\nexport default function TeacherPermission() {\n    const [pageName] = useState([{\n        title_1 : 'ADD TEACHER PERMISSION',\n        title_2 : 'DELETE SELECTED TEACHER PERMISSION',\n        title_3 : \"EDIT TEACHER PERMISSION\",\n        title_4 : \"TEACHER PERMISSION\",\n        title_5 : \"ADD-MANAGE TEACHER PERMISSION'S\",\n    }])\n\n    const [data,setData] = useState([]) \n    const [classData,setClassData] = useState([]) \n    const [sectionData,setSectionData] = useState([]) \n    //const [dataID, setDataID] = useState(0) \n    const [classID, setClassID] = useState(0) \n    const [sectionID, setSectionID] = useState(0) \n    const [loaderVisible,setLoaderVisible] = useState(true)     \n\n    //const {register, control, handleSubmit, formState: { errors }, setValue, reset} = useForm()\n \n    //const [getAllRecord,{data:getAllValidationRecord}] = useLazyListQuery()\n    const [getAllClassRecord,{data:getAllValidationClassRecord}] = useLazyClassListQuery()\n    const [addPermissionRecord] = useAddPermissionMutation()\n    const [getPermissionBaseTeacherData] = useParticularPermissionMutation()\n    \n    const columns = [\n        {\n            name: '#',\n            selector: (row,key) => key+1,\n            width:'50px'\n        },\n        {\n            name: 'Teacher List',\n            selector: row => row.teacher_name\n        }, \n        {\n            name: 'Marks',\n            selector: row => <>\n                <div className=\"form-check form-switch\">\n                    {\n                        (row.teacher_permission[0]?.is_mark === true)?<input className=\"form-check-input\" type=\"checkbox\" onChange={(e)=>{onSubmitPermission(e,'mark',row._id)\n                        }} value={1} checked />:<input className=\"form-check-input\" type=\"checkbox\" onChange={(e)=>onSubmitPermission(e,'mark',row._id)} value={1}/>\n                    } \n                </div>\n            </>\n        }, \n        {\n            name: 'Attendance',\n            selector: row => <>\n                <div className=\"form-check form-switch\">\n                    {\n                        (row.teacher_permission[0]?.is_attendance === true)?<input className=\"form-check-input\" type=\"checkbox\" onChange={(e)=>onSubmitPermission(e,'attendance',row._id)} value={1} checked />:<input className=\"form-check-input\" type=\"checkbox\" onChange={(e)=>onSubmitPermission(e,'attendance',row._id)} value={1}/>\n                    } \n                </div>\n            </>\n        },\n    ]\n\n    const onSubmitPermission = (event,permission_type,teacher_id) => { \n        setLoaderVisible(true)  \n        let is_checked = event.target.checked\n        \n        const data = {\n            permission_class:classID,\n            permission_section:sectionID,\n            is_checked:is_checked?1:0,\n            permission_teacher:teacher_id,\n            is_mark:(permission_type === 'mark' && is_checked === 1)?1:0,\n            is_attendance:(permission_type === 'attendance' && is_checked === 1)?1:0\n        }  \n        if(permission_type === 'mark'){\n            delete data.is_attendance\n        }else{\n            delete data.is_mark\n        }\n        addPermissionRecord(data).then((response) => { \n            if(response?.data?.status){\n                toast.success(response.data.message) \n            }else{ \n                toast.error(response.error.data.message) \n            }   \n            displayTeacherRecord(sectionID) // for refresh\n        }).catch((error) => { \n            if (error) \n                toast.error(`Some tehnical issue.`)\n                setLoaderVisible(false)\n        });   \n    }\n\n    const displayTeacherRecord = (section_id) => {\n        setSectionID(section_id)\n        setData([])\n        const data = {\n            class_id:classID,\n            section_id:section_id\n        }\n        getPermissionBaseTeacherData(data).then((response)=>{  \n            setData(response?.data?.data) \n            setLoaderVisible(false)\n        }).catch((err)=>{ \n            toast.error(`Error : ${err.message}`)\n        })\n    }\n\n    useEffect(()=>{  \n        getAllClassRecord().then((response)=>{ \n            setClassData(response?.data?.data) \n            setLoaderVisible(false)\n        }).catch((err)=>{ \n            toast.error(`Error : ${err.message}`)\n        })\n    },[getAllValidationClassRecord])\n\n    const updateSectionData = (class_array) => {\n        const class_data = JSON.parse(class_array)\n        setClassID(class_data._id) \n        setSectionData(class_data.class_section)\n    }\n\n    return ( \n        <>  \n            <div className=\"page-body\">\n                {loaderVisible?\n                <div class=\"loader-wrapper\">\n                    <div class=\"theme-loader\">    \n                        <div class=\"loader-p\"></div>\n                    </div>\n                </div>:''} \n                <div className=\"container-fluid\">\n                    <div className=\"page-title\">\n                        <div className=\"row\">\n                            <div className=\"col-sm-6 ps-0\"><h3>{pageName[0].title_1}</h3></div>\n                            <div className=\"col-sm-6 pe-0\">\n                                <ol className=\"breadcrumb\">\n                                    <li className=\"breadcrumb-item\">\n                                        <a href=\"#\">\n                                            <svg className=\"stroke-icon\">\n                                                <use href=\"../assets/svg/icon-sprite.svg#stroke-home\"></use>\n                                            </svg>\n                                        </a>\n                                    </li> \n                                    <li className=\"breadcrumb-item active\">{pageName[0].title_1}</li>\n                                </ol>\n                            </div>\n                        </div>\n                    </div>\n                </div>  \n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                            <div className=\"card\">\n                                <div className=\"card-body custom-card-list\">\n                                    <div className=\"list-product-header\">  \n                                        <div className=\"row align-left p-4\">  \n                                            <div className=\"col-md-3\">\n                                                <div className=\"form-floating\">\n                                                    <select className=\"form-select\" id=\"floatingSelectGrid\" onChange={(e)=>{\n                                                                    updateSectionData(e.target.value)\n                                                                    setData([])\n                                                                }}>  \n                                                        <option value=\"\">Select Class</option>\n                                                        { (classData)?classData.map((classItem,key)=>{\n                                                            return(  \n                                                                <option value={JSON.stringify(classItem)} key={key}>{classItem.class_name}</option> \n                                                            )}):''\n                                                        }  \n                                                    </select>\n                                                    <label for=\"floatingSelectGrid\">\n                                                        Please select class\n                                                    </label>\n                                                </div>\n                                            </div> \n                                            <div className=\"col-md-3\">\n                                                <div className=\"form-floating\">\n                                                    <select className=\"form-select\" id=\"floatingSelectGrid\" onChange={(e)=>{\n                                                        displayTeacherRecord(e.target.value)\n                                                    }}> \n                                                        <option value=\"\">Select Section</option>\n                                                        { (sectionData)?sectionData.map((sectionItem,key)=>{\n                                                            return(  \n                                                                <option value={sectionItem._id} key={key}>{sectionItem.section_name}</option> \n                                                            )}):''\n                                                        }  \n                                                    </select>\n                                                    <label for=\"floatingSelectGrid\">\n                                                        Please select section\n                                                    </label>\n                                                </div>\n                                            </div> \n                                        </div> \n                                    </div>\n                                    <div className=\"list-product\">\n                                        <DataTable\n                                            columns={columns}\n                                            data={data}\n                                            pagination \n                                            persistTableHead \n                                        />  \n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>   \n            </div>    \n        </>\n    )\n}"],"names":["TeacherPermission","pageName","useState","title_1","title_2","title_3","title_4","title_5","data","setData","classData","setClassData","sectionData","setSectionData","classID","setClassID","sectionID","setSectionID","loaderVisible","setLoaderVisible","getAllClassRecord","getAllValidationClassRecord","useLazyClassListQuery","addPermissionRecord","useAddPermissionMutation","getPermissionBaseTeacherData","useParticularPermissionMutation","columns","name","selector","row","key","width","teacher_name","_row$teacher_permissi","_jsx","_Fragment","children","className","teacher_permission","is_mark","type","onChange","e","onSubmitPermission","_id","value","checked","_row$teacher_permissi2","is_attendance","event","permission_type","teacher_id","is_checked","target","permission_class","permission_section","permission_teacher","then","response","_response$data","status","toast","success","message","error","displayTeacherRecord","catch","section_id","class_id","_response$data2","err","concat","useEffect","_response$data3","_jsxs","class","href","id","class_array","class_data","JSON","parse","class_section","updateSectionData","map","classItem","stringify","class_name","for","sectionItem","section_name","DataTable","pagination","persistTableHead"],"sourceRoot":""}