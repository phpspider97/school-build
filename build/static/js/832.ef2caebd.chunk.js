"use strict";(self.webpackChunktheschoolster_in=self.webpackChunktheschoolster_in||[]).push([[832],{5832:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var l=a(5043),r=a(4858),t=a(8786),c=a(3401),i=a(2869),d=a(9923),n=a(7032),o=a(579);function m(){const[e]=(0,l.useState)([{title_1:"ADD EXAM MARK",title_2:"DELETE SELECTED EXAM MARK",title_3:"EDIT EXAM MARK",title_4:"EXAM MARK",title_5:"ADD-MANAGE EXAM MARK'S"}]),[s,a]=(0,l.useState)([]),[m,u]=(0,l.useState)([]),[h,x]=(0,l.useState)([]),[j,_]=(0,l.useState)([]),[v,f]=(0,l.useState)([]),[g,k]=(0,l.useState)([]),[N,p]=(0,l.useState)([]),[b,S]=(0,l.useState)(0),[E,A]=(0,l.useState)(0),[M,R]=(0,l.useState)(0),[y,T]=(0,l.useState)(0),[w,C]=(0,l.useState)(!0),{register:G,handleSubmit:q,formState:{errors:D}}=(0,r.mN)(),[K,{data:P}]=(0,d.ad)(),[X,{data:F}]=(0,n.ad)(),[B]=(0,i.w)(),[I]=(0,i.g_)(),L=[{name:"#",selector:(e,s)=>s+1,width:"50px"},{name:"Student List",selector:e=>e.student_name},{name:"Mark",selector:e=>{var s,a;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("input",{type:"number",className:"form-control",defaultValue:null===(s=e.student_mark_data[0])||void 0===s||null===(a=s.mark_data)||void 0===a?void 0:a.mark,onChange:e=>u(e.target.value)})})}},{name:"Grade point",selector:e=>(0,o.jsx)(o.Fragment,{children:"A+"})},{name:"Comment",selector:e=>{var s,a;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("input",{type:"text",className:"form-control",defaultValue:null===(s=e.student_mark_data[0])||void 0===s||null===(a=s.mark_data)||void 0===a?void 0:a.mark_comment,onChange:e=>x(e.target.value)})})}},{name:"Action",selector:e=>(0,o.jsx)("div",{className:"form-check form-switch",children:(0,o.jsx)("button",{className:"btn btn-success btn-sm",onClick:s=>{var a;return O(s,e._id,null===(a=e.student_mark_data[0])||void 0===a?void 0:a.mark_data)},children:"Submit"})})}],O=(e,s,a)=>{C(!0);let l=void 0===a?1:0;console.log("is_checked__",l);B({mark:m,mark_comment:h,mark_class:b,mark_section:E,mark_subject:y,mark_exam:M,is_checked:l?1:0,mark_student_id:s,mark_checked:l}).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?c.oR.success(e.data.message):c.oR.error(e.error.data.message);J({mark_class:b,mark_section:E,mark_subject:y,exam_id:M})})).catch((e=>{e&&c.oR.error("Some tehnical issue."),C(!1)}))},J=e=>{S(e.mark_class),A(e.mark_section),T(e.mark_subject),R(e.exam_id),a([]);const s={class_id:e.mark_class,section_id:e.mark_section,subject_id:e.mark_subject,exam_id:e.exam_id};I(s).then((e=>{var s;a(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),C(!1)})).catch((e=>{c.oR.error("Error : ".concat(e.message))}))};(0,l.useEffect)((()=>{X().then((e=>{var s;f(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),C(!1)})).catch((e=>{c.oR.error("Error : ".concat(e.message))}))}),[F]);return(0,l.useEffect)((()=>{K().then((e=>{var s;_(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data)})).catch((e=>{c.oR.error("Error : ".concat(e.message))}))}),[P]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"page-body",children:[w?(0,o.jsx)("div",{class:"loader-wrapper",children:(0,o.jsx)("div",{class:"theme-loader",children:(0,o.jsx)("div",{class:"loader-p"})})}):"",(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsx)("div",{className:"page-title",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-sm-6 ps-0",children:(0,o.jsx)("h3",{children:e[0].title_1})}),(0,o.jsx)("div",{className:"col-sm-6 pe-0",children:(0,o.jsxs)("ol",{className:"breadcrumb",children:[(0,o.jsx)("li",{className:"breadcrumb-item",children:(0,o.jsx)("a",{href:"#",children:(0,o.jsx)("svg",{className:"stroke-icon",children:(0,o.jsx)("use",{href:"../assets/svg/icon-sprite.svg#stroke-home"})})})}),(0,o.jsx)("li",{className:"breadcrumb-item active",children:e[0].title_1})]})})]})})}),(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("div",{className:"card",children:(0,o.jsxs)("div",{className:"card-body custom-card-list",children:[(0,o.jsx)("div",{className:"list-product-header",children:(0,o.jsx)("form",{method:"POST",onSubmit:q(J),encType:"multipart/form-data",children:(0,o.jsxs)("div",{className:"row align-left p-4",children:[(0,o.jsx)("div",{className:"col-md-3",children:(0,o.jsxs)("div",{className:"form-floating",children:[(0,o.jsxs)("select",{className:"form-select",id:"floatingSelectGrid",...G("exam_id",{required:"This field is required."}),children:[(0,o.jsx)("option",{value:"",children:"Select Exam"}),j?j.map(((e,s)=>(0,o.jsx)("option",{value:e._id,children:e.exam_name},s))):""]}),D.exam_id&&(0,o.jsx)("span",{className:"error-message",children:D.exam_id.message}),(0,o.jsx)("label",{for:"floatingSelectGrid",children:"Please select exam"})]})}),(0,o.jsx)("div",{className:"col-md-2",children:(0,o.jsxs)("div",{className:"form-floating",children:[(0,o.jsxs)("select",{className:"form-select",...G("mark_class",{required:"This field is required."}),onChange:e=>{(()=>{const e=document.getElementById("classSelectBox"),s=e.options[e.selectedIndex].id,a=JSON.parse(s);k(a.class_section),p(a.class_subject)})(e.target.value),a([])},id:"classSelectBox",children:[(0,o.jsx)("option",{value:"",children:"Select Class"}),v?v.map(((e,s)=>(0,o.jsx)("option",{id:JSON.stringify(e),value:e._id,children:e.class_name},s))):""]}),D.mark_class&&(0,o.jsx)("span",{className:"error-message",children:D.mark_class.message}),(0,o.jsx)("label",{for:"floatingSelectGrid",children:"Please select class"})]})}),(0,o.jsx)("div",{className:"col-md-3",children:(0,o.jsxs)("div",{className:"form-floating",children:[(0,o.jsxs)("select",{className:"form-select",id:"floatingSelectGrid",...G("mark_section",{required:"This field is required."}),children:[(0,o.jsx)("option",{value:"",children:"Select Section"}),g?g.map(((e,s)=>(0,o.jsx)("option",{value:e._id,children:e.section_name},s))):""]}),D.mark_section&&(0,o.jsx)("span",{className:"error-message",children:D.mark_section.message}),(0,o.jsx)("label",{for:"floatingSelectGrid",children:"Please select section"})]})}),(0,o.jsx)("div",{className:"col-md-2",children:(0,o.jsxs)("div",{className:"form-floating",children:[(0,o.jsxs)("select",{className:"form-select",id:"floatingSelectGrid",...G("mark_subject",{required:"This field is required."}),children:[(0,o.jsx)("option",{value:"",children:"Select Subject"}),N?N.map(((e,s)=>(0,o.jsx)("option",{value:e._id,children:e.subject_name},s))):""]}),D.mark_subject&&(0,o.jsx)("span",{className:"error-message",children:D.mark_subject.message}),(0,o.jsx)("label",{for:"floatingSelectGrid",children:"Please select subject"})]})}),(0,o.jsx)("div",{className:"col-md-2",children:(0,o.jsx)("div",{className:"form-floating",children:(0,o.jsx)("button",{type:"submit",className:"btn btn-success-gradien border-dark me-3",style:{height:"58px"},children:(0,o.jsx)("b",{children:"Mark"})})})})]})})}),(0,o.jsx)("div",{className:"list-product",children:(0,o.jsx)(t.Ay,{columns:L,data:s,pagination:!0,persistTableHead:!0})})]})})})})})]})})}}}]);
//# sourceMappingURL=832.ef2caebd.chunk.js.map