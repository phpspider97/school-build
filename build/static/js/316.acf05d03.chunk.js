"use strict";(self.webpackChunktheschoolster_in=self.webpackChunktheschoolster_in||[]).push([[316],{2316:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(5043),l=a(4858),r=a(5475),d=a(8786),i=a(3401),c=a(9268),n=a(579);function o(){const[e]=(0,t.useState)([{title_1:"ADD EVENT",title_2:"DELETE SELECTED EVENT",title_3:"EDIT EVENT",title_4:"EVENT",title_5:"ADD-MANAGE EVENT'S"}]),[s,a]=(0,t.useState)([]),[o,m]=(0,t.useState)(0),[h,u]=(0,t.useState)([]),[v,x]=(0,t.useState)(!0),[j,b]=(0,t.useState)(!0),{register:N,handleSubmit:p,formState:{errors:g},setValue:_,reset:f}=(0,l.mN)(),[E]=(0,c.sZ)(),[y]=(0,c.Rx)(),[k]=(0,c.K)(),[w]=(0,c.Ej)(),[R,{data:D}]=(0,c.ad)(),[T]=(0,c.$G)(),S=[{name:"#",selector:(e,s)=>s+1,width:"50px"},{name:"Title",selector:e=>e.event_title},{name:"Date",selector:e=>e.event_date_time},{name:"Status",selector:e=>1===e.is_active?(0,n.jsx)("span",{className:"badge rounded-pill badge-success me-1",children:"Active"}):(0,n.jsx)("span",{className:"badge rounded-pill badge-danger me-1",children:"De-active"})},{name:"Action",selector:e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("i",{className:"icofont icofont-ui-edit me-2 edit-link-custom",onClick:()=>{A(e._id)},title:"Edit record"}),(0,n.jsx)("i",{className:"icofont icofont-ui-delete me-2 delete-link-custom",onClick:()=>{q(e._id),b(!0)},title:"Delete record"})]})}],C=()=>{f(),m(0),document.getElementById("close-modal").click(),b(!1)},A=async e=>{m(e),document.getElementById("open-modal").click(),T(e).then((e=>{_("event_title",e.data.data.event_title),_("event_date_time",e.data.data.event_date_time),_("event_description",e.data.data.event_description),_("is_active",e.data.data.is_active)})).catch((e=>{i.oR.error("Error : ".concat(e.message)),b(!1)}))},q=async e=>{!0===window.confirm("Are you sure to delete this record?")&&k(e).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?(i.oR.success(e.data.message),b(!1)):i.oR.error(e.error.data.message)})).catch((e=>{i.oR.error("Error : ".concat(e.message))}))};(0,t.useEffect)((()=>{R().then((e=>{var s;a(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),b(!1)})).catch((e=>{i.oR.error("Error : ".concat(e.message))}))}),[D]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"page-body",children:[j?(0,n.jsx)("div",{class:"loader-wrapper",children:(0,n.jsx)("div",{class:"theme-loader",children:(0,n.jsx)("div",{class:"loader-p"})})}):"",(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsx)("div",{className:"page-title",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-sm-6 ps-0",children:(0,n.jsx)("h3",{children:e[0].title_1})}),(0,n.jsx)("div",{className:"col-sm-6 pe-0",children:(0,n.jsxs)("ol",{className:"breadcrumb",children:[(0,n.jsx)("li",{className:"breadcrumb-item",children:(0,n.jsx)(r.N_,{to:"#",children:(0,n.jsx)("svg",{className:"stroke-icon",children:(0,n.jsx)("use",{href:"../assets/svg/icon-sprite.svg#stroke-home"})})})}),(0,n.jsx)("li",{className:"breadcrumb-item active",children:e[0].title_1})]})})]})})}),(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("div",{className:"card",children:(0,n.jsxs)("div",{className:"card-body custom-card-list",children:[(0,n.jsx)("div",{className:"list-product-header",children:(0,n.jsxs)("div",{children:[v?"":(0,n.jsx)("button",{className:"btn btn-danger-gradien btn-sm",type:"button",onClick:()=>{(async()=>{!0===window.confirm("Are you sure to delete this record?")&&w(h).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?(i.oR.success(e.data.message),b(!1),x(!0)):i.oR.error(e.error.data.message)})).catch((e=>{i.oR.error("Error : ".concat(e.message))}))})(),b(!0)},disabled:v,children:(0,n.jsx)("b",{children:e[0].title_2})}),(0,n.jsx)("button",{className:"btn btn-primary-gradien btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":".bd-example-modal-fullscreen",id:"open-modal",onClick:()=>f(),children:(0,n.jsx)("b",{children:e[0].title_1})})]})}),(0,n.jsx)("div",{className:"list-product",children:(0,n.jsx)(d.Ay,{columns:S,data:s,pagination:!0,selectableRows:!0,onSelectedRowsChange:e=>{let{selectedRows:s}=e;x(!0);let a=[];s.map((e=>{a.push(e._id)})),a.length>0&&x(!1),u(a)},persistTableHead:!0})})]})})})})}),(0,n.jsx)("div",{className:"modal fade bd-example-modal-fullscreen",tabindex:"-1",role:"dialog","aria-labelledby":"myFullLargeModalLabel","aria-hidden":"true",children:(0,n.jsx)("div",{className:"modal-dialog modal-fullscreen",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsxs)("div",{className:"modal-header",children:[(0,n.jsx)("h4",{className:"modal-title",id:"myFullLargeModalLabel",children:e[0].title_5}),(0,n.jsx)("button",{className:"btn-close py-1",type:"button","data-bs-dismiss":"modal","aria-label":"Close",id:"close-modal",onClick:()=>{m(0)}})]}),(0,n.jsx)("div",{className:"modal-body dark-modal",children:(0,n.jsx)("div",{className:"row border-dark",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("div",{className:"card",children:(0,n.jsx)("div",{className:"card-body",children:(0,n.jsx)("form",{method:"POST",onSubmit:p((e=>{0===o?(E(e).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?i.oR.success(e.data.message):i.oR.error(e.error.data.message)})).catch((e=>{i.oR.error("Error : ".concat(e.message))})),C()):(y({dataID:o,...e}).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?i.oR.success(e.data.message):i.oR.error(e.error.data.message)})).catch((e=>{i.oR.error("Error : ".concat(e.message)),b(!1)})),C())})),encType:"multipart/form-data",children:(0,n.jsxs)("div",{className:"form theme-f",children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,n.jsx)("label",{children:"Event Title"}),(0,n.jsx)("input",{className:"form-control",type:"text",placeholder:"Event Title",...N("event_title",{required:"This field is required."})}),g.event_title&&(0,n.jsx)("p",{className:"text-danger error-custom-single",children:g.event_title.message})]}),(0,n.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,n.jsx)("label",{children:"Event Date"}),(0,n.jsx)("input",{className:"form-control",type:"date",placeholder:"Event Date",...N("event_date_time",{required:"This field is required."})}),g.event_date_time&&(0,n.jsx)("p",{className:"text-danger error-custom-single",children:g.event_date_time.message})]}),(0,n.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,n.jsx)("label",{children:"Event Description"}),(0,n.jsx)("textarea",{className:"form-control",type:"text",placeholder:"Event Description",...N("event_description",{required:"This field is required."})}),g.event_description&&(0,n.jsx)("p",{className:"text-danger error-custom-single",children:g.event_description.message})]}),(0,n.jsx)("div",{className:"col-md-12",children:(0,n.jsxs)("div",{className:"form-check form-switch",children:[(0,n.jsx)("input",{className:"form-check-input",id:"flexSwitchCheckDefault",type:"checkbox",role:"switch",...N("is_active",{required:!1})}),(0,n.jsx)("label",{className:"form-check-label",for:"flexSwitchCheckDefault",children:"Is Active"})]})})]}),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col",children:(0,n.jsxs)("div",{className:"text-end",children:[(0,n.jsx)("button",{type:"submit",className:"btn btn-primary-gradien btn-lg border-dark me-3",children:(0,n.jsx)("b",{children:"Add"})}),(0,n.jsx)("button",{type:"reset",className:"btn btn-danger-gradien btn-lg border-dark",children:(0,n.jsx)("b",{children:"Reset"})})]})})})]})})})})})})})]})})})]})})}}}]);
//# sourceMappingURL=316.acf05d03.chunk.js.map