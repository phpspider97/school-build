"use strict";(self.webpackChunktheschoolster_in=self.webpackChunktheschoolster_in||[]).push([[325],{325:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var c=a(5043),i=a(8786),l=a(3401),t=a(9434),r=a(7032),n=a(579);function d(){const[e]=(0,c.useState)([{title_1:"ADD TEACHER PERMISSION",title_2:"DELETE SELECTED TEACHER PERMISSION",title_3:"EDIT TEACHER PERMISSION",title_4:"TEACHER PERMISSION",title_5:"ADD-MANAGE TEACHER PERMISSION'S"}]),[s,a]=(0,c.useState)([]),[d,o]=(0,c.useState)([]),[h,m]=(0,c.useState)([]),[u,v]=(0,c.useState)(0),[x,j]=(0,c.useState)(0),[p,N]=(0,c.useState)(!0),[f,{data:_}]=(0,r.ad)(),[g]=(0,t.fG)(),[S]=(0,t.Xi)(),k=[{name:"#",selector:(e,s)=>s+1,width:"50px"},{name:"Teacher List",selector:e=>e.teacher_name},{name:"Marks",selector:e=>{var s;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"form-check form-switch",children:!0===(null===(s=e.teacher_permission[0])||void 0===s?void 0:s.is_mark)?(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:s=>{E(s,"mark",e._id)},value:1,checked:!0}):(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:s=>E(s,"mark",e._id),value:1})})})}},{name:"Attendance",selector:e=>{var s;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"form-check form-switch",children:!0===(null===(s=e.teacher_permission[0])||void 0===s?void 0:s.is_attendance)?(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:s=>E(s,"attendance",e._id),value:1,checked:!0}):(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",onChange:s=>E(s,"attendance",e._id),value:1})})})}}],E=(e,s,a)=>{N(!0);let c=e.target.checked;const i={permission_class:u,permission_section:x,is_checked:c?1:0,permission_teacher:a,is_mark:"mark"===s&&1===c?1:0,is_attendance:"attendance"===s&&1===c?1:0};"mark"===s?delete i.is_attendance:delete i.is_mark,g(i).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?l.oR.success(e.data.message):l.oR.error(e.error.data.message),b(x)})).catch((e=>{e&&l.oR.error("Some tehnical issue."),N(!1)}))},b=e=>{j(e),a([]);S({class_id:u,section_id:e}).then((e=>{var s;a(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),N(!1)})).catch((e=>{l.oR.error("Error : ".concat(e.message))}))};(0,c.useEffect)((()=>{f().then((e=>{var s;o(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),N(!1)})).catch((e=>{l.oR.error("Error : ".concat(e.message))}))}),[_]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"page-body",children:[p?(0,n.jsx)("div",{class:"loader-wrapper",children:(0,n.jsx)("div",{class:"theme-loader",children:(0,n.jsx)("div",{class:"loader-p"})})}):"",(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsx)("div",{className:"page-title",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-sm-6 ps-0",children:(0,n.jsx)("h3",{children:e[0].title_1})}),(0,n.jsx)("div",{className:"col-sm-6 pe-0",children:(0,n.jsxs)("ol",{className:"breadcrumb",children:[(0,n.jsx)("li",{className:"breadcrumb-item",children:(0,n.jsx)("a",{href:"#",children:(0,n.jsx)("svg",{className:"stroke-icon",children:(0,n.jsx)("use",{href:"../assets/svg/icon-sprite.svg#stroke-home"})})})}),(0,n.jsx)("li",{className:"breadcrumb-item active",children:e[0].title_1})]})})]})})}),(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("div",{className:"card",children:(0,n.jsxs)("div",{className:"card-body custom-card-list",children:[(0,n.jsx)("div",{className:"list-product-header",children:(0,n.jsxs)("div",{className:"row align-left p-4",children:[(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsxs)("div",{className:"form-floating",children:[(0,n.jsxs)("select",{className:"form-select",id:"floatingSelectGrid",onChange:e=>{(e=>{const s=JSON.parse(e);v(s._id),m(s.class_section)})(e.target.value),a([])},children:[(0,n.jsx)("option",{value:"",children:"Select Class"}),d?d.map(((e,s)=>(0,n.jsx)("option",{value:JSON.stringify(e),children:e.class_name},s))):""]}),(0,n.jsx)("label",{for:"floatingSelectGrid",children:"Please select class"})]})}),(0,n.jsx)("div",{className:"col-md-3",children:(0,n.jsxs)("div",{className:"form-floating",children:[(0,n.jsxs)("select",{className:"form-select",id:"floatingSelectGrid",onChange:e=>{b(e.target.value)},children:[(0,n.jsx)("option",{value:"",children:"Select Section"}),h?h.map(((e,s)=>(0,n.jsx)("option",{value:e._id,children:e.section_name},s))):""]}),(0,n.jsx)("label",{for:"floatingSelectGrid",children:"Please select section"})]})})]})}),(0,n.jsx)("div",{className:"list-product",children:(0,n.jsx)(i.Ay,{columns:k,data:s,pagination:!0,persistTableHead:!0})})]})})})})})]})})}}}]);
//# sourceMappingURL=325.2f4009e0.chunk.js.map