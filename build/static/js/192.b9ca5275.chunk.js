"use strict";(self.webpackChunktheschoolster_in=self.webpackChunktheschoolster_in||[]).push([[192],{1192:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var l=a(5043),d=a(4858),r=a(8786),c=a(3401),i=a(6005),t=a(579);const o=e=>{let{isDisplayModal:s,schoolID:a,checkDisplayAdminModal:o}=e;const[n]=(0,l.useState)([{title_1:"ADD ADMIN",title_2:"DELETE SELECTED ADMIN",title_3:"EDIT ADMIN",title_4:"ADMIN",title_5:"ADD-MANAGE ADMIN'S"}]),[m,h]=(0,l.useState)([]),[u,x]=(0,l.useState)(0),[j,b]=(0,l.useState)([]),[N,v]=(0,l.useState)(!0),[p,g]=(0,l.useState)(!0),{register:f,handleSubmit:_,formState:{errors:y},setValue:k,reset:E}=(0,d.mN)(),[S]=(0,i.sZ)(),[w]=(0,i.Rx)(),[A]=(0,i.K)(),[D]=(0,i.Ej)(),[R,{data:C}]=(0,i.E4)(),[T]=(0,i.$G)(),L=[{name:"#",selector:(e,s)=>s+1,width:"50px"},{name:"Admin Name",selector:e=>e.admin_name},{name:"Admin Email",selector:e=>e.admin_email},{name:"Status",selector:e=>1===e.is_active?(0,t.jsx)("span",{className:"badge rounded-pill badge-success me-1",children:"Active"}):(0,t.jsx)("span",{className:"badge rounded-pill badge-danger me-1",children:"De-active"})},{name:"Action",selector:e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"icofont icofont-ui-edit me-2 edit-link-custom",onClick:()=>{q(e._id)},title:"Edit record"}),(0,t.jsx)("i",{className:"icofont icofont-ui-delete me-2 delete-link-custom",onClick:()=>{M(e._id),g(!0)},title:"Delete record"})]})}],I=()=>{E(),x(0),g(!1),O(),o(s,a)},q=async e=>{x(e),T(e).then((e=>{k("admin_name",e.data.data.admin_name),k("admin_email",e.data.data.admin_email),k("admin_number",e.data.data.admin_number),k("is_active",e.data.data.is_active)})).catch((e=>{c.oR.error("Error : ".concat(e.message)),g(!1)}))},M=async e=>{!0===window.confirm("Are you sure to delete this record?")&&A(e).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?(c.oR.success(e.data.message),g(!1)):c.oR.error(e.error.data.message)})).catch((e=>{c.oR.error("Error : ".concat(e.message))}))},O=()=>{R(a).then((e=>{var s;h(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),g(!1)})).catch((e=>{c.oR.error("Error : ".concat(e.message))}))};(0,l.useEffect)((()=>{O()}),[C,a]);return(0,l.useEffect)((()=>{s&&document.getElementById("open-admin-modal").click()}),[s]),(0,t.jsxs)(t.Fragment,{children:[p?(0,t.jsx)("div",{class:"loader-wrapper",children:(0,t.jsx)("div",{class:"theme-loader",children:(0,t.jsx)("div",{class:"loader-p"})})}):"",(0,t.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":".admin-modal-fullscreen",id:"open-admin-modal",style:{display:"none"},children:"Open admin"}),(0,t.jsx)("div",{className:"modal fade admin-modal-fullscreen",tabindex:"-1",role:"dialog","aria-labelledby":"myFullLargeModalLabel","aria-hidden":"true",children:(0,t.jsx)("div",{className:"modal-dialog modal-fullscreen",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h4",{className:"modal-title",id:"myFullLargeModalLabel",children:n[0].title_5}),(0,t.jsx)("button",{className:"btn-close py-1",type:"button","data-bs-dismiss":"modal","aria-label":"Close",id:"close-modal",onClick:()=>{x(0),o(!s,0),E()}})]}),(0,t.jsxs)("div",{className:"modal-body dark-modal",children:[(0,t.jsx)("div",{className:"row border-dark",children:(0,t.jsx)("div",{className:"col-sm-12",children:(0,t.jsx)("div",{className:"card",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)("form",{method:"POST",onSubmit:_((e=>{0===a&&alert("School id not set."),0===u?(e.school_id=a,S(e).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?c.oR.success(e.data.message):c.oR.error(e.error.data.message)})).catch((e=>{c.oR.error("Error : ".concat(e.message))})),I()):(w({dataID:u,...e}).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?c.oR.success(e.data.message):c.oR.error(e.error.data.message)})).catch((e=>{c.oR.error("Error : ".concat(e.message)),g(!1)})),I())})),encType:"multipart/form-data",children:(0,t.jsxs)("div",{className:"form theme-form-old",children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{children:"Name"}),(0,t.jsx)("input",{className:"form-control",type:"text",placeholder:"Admin Name",...f("admin_name",{required:"This field is required."})}),y.admin_name&&(0,t.jsx)("span",{className:"error-message",children:y.admin_name.message})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{children:"Email"}),(0,t.jsx)("input",{className:"form-control",type:"email",placeholder:"Admin Email",...f("admin_email",{required:"This field is required."})}),y.admin_email&&(0,t.jsx)("span",{className:"error-message",children:y.admin_email.message})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{children:"Phone"}),(0,t.jsx)("input",{className:"form-control",type:"number",placeholder:"Admin Phone",...f("admin_number",{required:"This field is required."})}),y.admin_number&&(0,t.jsx)("span",{className:"error-message",children:y.admin_number.message})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{children:"Admin Password"}),(0,t.jsx)("input",{className:"form-control",type:"password",placeholder:"Admin Password",...f("admin_password",{required:!1})})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"form-check form-switch",children:[(0,t.jsx)("input",{className:"form-check-input",id:"flexSwitchCheckDefault",type:"checkbox",role:"switch",...f("is_active",{required:!1})}),(0,t.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"Is Active"})]})})]}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col",children:(0,t.jsxs)("div",{className:"text-end",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-success-gradien border-dark me-3",children:(0,t.jsx)("b",{children:"Add"})}),(0,t.jsx)("button",{type:"reset",className:"btn btn-danger-gradien border-dark",children:(0,t.jsx)("b",{children:"Reset"})})]})})})]})})})})})}),(0,t.jsx)("div",{className:"list-product",children:(0,t.jsx)(r.Ay,{columns:L,data:m,pagination:!0,selectableRows:!0,onSelectedRowsChange:e=>{let{selectedRows:s}=e;v(!0);let a=[];s.map((e=>{a.push(e._id)})),a.length>0&&v(!1),b(a)},persistTableHead:!0})})]})]})})})]})},n=l.memo(o);var m=a(5394);function h(){const[e]=(0,l.useState)([{title_1:"ADD SCHOOL",title_2:"DELETE SELECTED SCHOOL",title_3:"EDIT SCHOOL",title_4:"SCHOOL",title_5:"ADD-MANAGE SCHOOL'S"}]),[s,a]=(0,l.useState)([]),[i,o]=(0,l.useState)(0),[h,u]=(0,l.useState)([]),[x,j]=(0,l.useState)(!0),[b,N]=(0,l.useState)(!0),[v,p]=(0,l.useState)(!1),{register:g,handleSubmit:f,formState:{errors:_},setValue:y,reset:k}=(0,d.mN)(),[E]=(0,m.sZ)(),[S]=(0,m.Rx)(),[w]=(0,m.K)(),[A]=(0,m.Ej)(),[D,{data:R}]=(0,m.ad)(),[C]=(0,m.$G)(),T=[{name:"#",selector:(e,s)=>s+1,width:"50px"},{name:"School Name",selector:e=>e.school_name},{name:"School Email",selector:e=>e.school_email},{name:"Status",selector:e=>1===e.is_active?(0,t.jsx)("span",{className:"badge rounded-pill badge-success me-1",children:"Active"}):(0,t.jsx)("span",{className:"badge rounded-pill badge-danger me-1",children:"De-active"})},{name:"Action",selector:e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"icofont icofont-ui-edit me-2 edit-link-custom",onClick:()=>{I(e._id)},title:"Edit record"}),(0,t.jsx)("i",{className:"icofont icofont-ui-delete me-2 delete-link-custom",onClick:()=>{q(e._id),N(!0)},title:"Delete record"}),(0,t.jsx)("i",{className:"icofont icofont-business-man-alt-1 delete-link-custom",onClick:()=>{p(!0),o(e._id)},title:"Add admin's"})]})}],L=()=>{k(),o(0),document.getElementById("close-modal").click(),N(!1)},I=async e=>{o(e),document.getElementById("open-modal").click(),C(e).then((e=>{y("school_name",e.data.data.school_name),y("school_email",e.data.data.school_email),y("school_number",e.data.data.school_number),y("is_active",e.data.data.is_active)})).catch((e=>{c.oR.error("Error : ".concat(e.message)),N(!1)}))},q=async e=>{!0===window.confirm("Are you sure to delete this record?")&&w(e).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?(c.oR.success(e.data.message),N(!1)):c.oR.error(e.error.data.message)})).catch((e=>{c.oR.error("Error : ".concat(e.message))}))};(0,l.useEffect)((()=>{D().then((e=>{var s;a(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data),N(!1)})).catch((e=>{c.oR.error("Error : ".concat(e.message))}))}),[R]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"page-body",children:[b?(0,t.jsx)("div",{class:"loader-wrapper",children:(0,t.jsx)("div",{class:"theme-loader",children:(0,t.jsx)("div",{class:"loader-p"})})}):"",(0,t.jsx)("div",{className:"container-fluid",children:(0,t.jsx)("div",{className:"page-title",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-sm-6 ps-0",children:(0,t.jsx)("h3",{children:e[0].title_1})}),(0,t.jsx)("div",{className:"col-sm-6 pe-0",children:(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)("a",{href:"#",children:(0,t.jsx)("svg",{className:"stroke-icon",children:(0,t.jsx)("use",{href:"../assets/svg/icon-sprite.svg#stroke-home"})})})}),(0,t.jsx)("li",{className:"breadcrumb-item active",children:e[0].title_1})]})})]})})}),(0,t.jsx)("div",{className:"container-fluid",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-sm-12",children:(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-body custom-card-list",children:[(0,t.jsx)("div",{className:"list-product-header",children:(0,t.jsxs)("div",{children:[x?"":(0,t.jsx)("button",{className:"btn btn-danger-gradien btn-sm",type:"button",onClick:()=>{(async()=>{!0===window.confirm("Are you sure to delete this record?")&&A(h).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?(c.oR.success(e.data.message),N(!1),j(!0)):c.oR.error(e.error.data.message)})).catch((e=>{c.oR.error("Error : ".concat(e.message))}))})(),N(!0)},disabled:x,children:(0,t.jsx)("b",{children:e[0].title_2})}),(0,t.jsx)("button",{className:"btn btn-primary-gradien btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":".bd-example-modal-fullscreen",id:"open-modal",onClick:()=>k(),children:(0,t.jsx)("b",{children:e[0].title_1})})]})}),(0,t.jsx)("div",{className:"list-product",children:(0,t.jsx)(r.Ay,{columns:T,data:s,pagination:!0,selectableRows:!0,onSelectedRowsChange:e=>{let{selectedRows:s}=e;j(!0);let a=[];s.map((e=>{a.push(e._id)})),a.length>0&&j(!1),u(a)},persistTableHead:!0})})]})})})})}),(0,t.jsx)("div",{className:"modal fade bd-example-modal-fullscreen",tabindex:"-1",role:"dialog","aria-labelledby":"myFullLargeModalLabel","aria-hidden":"true",children:(0,t.jsx)("div",{className:"modal-dialog modal-fullscreen",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h4",{className:"modal-title",id:"myFullLargeModalLabel",children:e[0].title_5}),(0,t.jsx)("button",{className:"btn-close py-1",type:"button","data-bs-dismiss":"modal","aria-label":"Close",id:"close-modal",onClick:()=>{o(0)}})]}),(0,t.jsx)("div",{className:"modal-body dark-modal",children:(0,t.jsx)("div",{className:"row border-dark",children:(0,t.jsx)("div",{className:"col-sm-12",children:(0,t.jsx)("div",{className:"card",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)("form",{method:"POST",onSubmit:f((e=>{0===i?(E(e).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?c.oR.success(e.data.message):c.oR.error(e.error.data.message)})).catch((e=>{c.oR.error("Error : ".concat(e.message))})),L()):(S({dataID:i,...e}).then((e=>{var s;null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.status?c.oR.success(e.data.message):c.oR.error(e.error.data.message)})).catch((e=>{c.oR.error("Error : ".concat(e.message)),N(!1)})),L())})),encType:"multipart/form-data",children:(0,t.jsxs)("div",{className:"form theme-form",children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{children:"Name"}),(0,t.jsx)("input",{className:"form-control",type:"text",placeholder:"School Name",...g("school_name",{required:"This field is required."})}),_.school_name&&(0,t.jsx)("span",{className:"error-message",children:_.school_name.message})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{children:"Email"}),(0,t.jsx)("input",{className:"form-control",type:"email",placeholder:"School Email",...g("school_email",{required:"This field is required."})}),_.school_email&&(0,t.jsx)("span",{className:"error-message",children:_.school_email.message})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{children:"Phone Number"}),(0,t.jsx)("input",{className:"form-control",type:"number",placeholder:"School Phone Number",...g("school_number",{required:"This field is required."})}),_.school_number&&(0,t.jsx)("span",{className:"error-message",children:_.school_number.message})]})}),(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"form-check form-switch",children:[(0,t.jsx)("input",{className:"form-check-input",id:"flexSwitchCheckDefault1",type:"checkbox",role:"switch",...g("is_active",{required:!1})}),(0,t.jsx)("label",{className:"form-check-label",for:"flexSwitchCheckDefault1",children:"Is Active"})]})})]}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col",children:(0,t.jsxs)("div",{className:"text-end",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-success-gradien border-dark me-3",children:(0,t.jsx)("b",{children:"Add"})}),(0,t.jsx)("button",{type:"reset",className:"btn btn-danger-gradien border-dark",children:(0,t.jsx)("b",{children:"Reset"})})]})})})]})})})})})})})]})})}),(0,t.jsx)(n,{isDisplayModal:v,schoolID:i,checkDisplayAdminModal:(e,s)=>{o(s),p(e)}})]})})}}}]);
//# sourceMappingURL=192.b9ca5275.chunk.js.map